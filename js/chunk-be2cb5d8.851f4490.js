(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-be2cb5d8"],{be6c:function(t,a,e){"use strict";e("b0c0");var r=e("2fa3");a["a"]={categories:{get:function(){return r["b"].get("/admin/categories")},create:function(t){var a=t.name;return r["b"].post("/admin/categories",{name:a})},update:function(t){var a=t.categoryId,e=t.name;return r["b"].put("/admin/categories/".concat(a),{name:e})},delete:function(t){var a=t.categoryId;return r["b"].delete("/admin/categories/".concat(a))}},restaurants:{getDetail:function(t){var a=t.restaurantId;return r["b"].get("/admin/restaurants/".concat(a))},get:function(){return r["b"].get("/admin/restaurants")},create:function(t){var a=t.formData;return r["b"].post("/admin/restaurants",a)},delete:function(t){var a=t.restaurantId;return r["b"].delete("/admin/restaurants/".concat(a))},update:function(t){var a=t.restaurantId,e=t.formData;return r["b"].put("/admin/restaurants/".concat(a),e)}},users:{get:function(){return r["b"].get("/admin/users")},update:function(t){var a=t.userId,e=t.isAdmin;return r["b"].put("/admin/users/".concat(a),{isAdmin:e})}}}},f91c:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container py-5"},[t.isLoading?e("Spinner"):e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h1",[t._v(t._s(t.restaurant.name))]),e("span",{staticClass:"badge badge-secondary mt-1 mb-3"},[t._v(" "+t._s(t.restaurant.categoryName)+" ")])]),e("div",{staticClass:"col-md-4"},[e("img",{staticClass:"img-responsive center-block",staticStyle:{width:"250px","margin-bottom":"25px"},attrs:{src:t._f("emptyImage")(t.restaurant.image)}}),e("div",{staticClass:"well"},[e("ul",{staticClass:"list-unstyled"},[e("li",[e("strong",[t._v("Opening Hour:")]),t._v(" "+t._s(t.restaurant.openingHours)+" ")]),e("li",[e("strong",[t._v("Tel:")]),t._v(" "+t._s(t.restaurant.tel)+" ")]),e("li",[e("strong",[t._v("Address:")]),t._v(" "+t._s(t.restaurant.address)+" ")])])])]),e("div",{staticClass:"col-md-8"},[e("p",[t._v(t._s(t.restaurant.description))])])]),e("hr"),e("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:function(a){return t.$router.back()}}},[t._v(" 回上一頁 ")])],1)},n=[],s=e("5530"),i=e("1da1"),c=(e("96cf"),e("b0c0"),e("a4d3"),e("e01a"),e("2708")),u=e("be6c"),o=e("2375"),d=e("2fa3"),m={name:"AdminRestaurant",components:{Spinner:o["a"]},mixins:[c["a"]],data:function(){return{restaurant:{id:-1,name:"",tel:"",address:"",openingHours:"",description:"",image:"",categoryName:""},isLoading:!0}},mounted:function(){var t=this.$route.params.id;this.fetchRestaurant(t)},beforeRouteUpdate:function(t,a,e){var r=t.params.id;this.fetchRestaurant(r),e()},methods:{fetchRestaurant:function(t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,n,i,c,o,m,l,g,p,b,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a.isLoading=!0,e.next=4,u["a"].restaurants.getDetail({restaurantId:t});case 4:if(r=e.sent,n=r.data,"error"!==n.data.status){e.next=8;break}throw new Error(n.message);case 8:i=n.data.restaurant,c=i.id,o=i.name,m=i.tel,l=i.address,g=i.opening_hours,p=i.description,b=i.image,f=i.Category,a.restaurant=Object(s["a"])(Object(s["a"])({},a.restaurant),{},{id:c,name:o,tel:m,address:l,openingHours:g,description:p,image:b,categoryName:f?f.name:"未分類"}),a.isLoading=!1,e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](0),a.isLoading=!1,d["a"].fire({icon:"error",title:"Can not get restaurant data. Try later."});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))()}}},l=m,g=e("2877"),p=Object(g["a"])(l,r,n,!1,null,null,null);a["default"]=p.exports}}]);
//# sourceMappingURL=chunk-be2cb5d8.851f4490.js.map